# lighthouse 性能监控工具

## Performance 性能指标

**FCP（First Contentful Paint）**
用户导航到页面后，浏览器诚信第一块 DOM 内容花费的时间
0-1.8 优
1.8-3 良
\>3 差

**SI（Spend Index）**
页面可见内容的显示速度

0-3.4 优
3.4-5.8 良
\>5.8 差
**LCP（Largest Contentful Paint）**
页面渲染出最大文本或图片的时间
0-2.5 优
2.5-4 良
\>4 差
**TTI（Time to Interactive）**
页面最多需要多长时间才能提供完整的交互功能
0-3.8 优
3.8-7.3 良
\>7.3 差

## Accessibility

## Best Practices

## SEO

搜索引擎性能优化，content 中的内容可以被搜索引擎捕捉到

```html
<meta name="Description" content="这是一个meta标签" />
```

# 首屏加载速度

1. **核心：代码体积**

2. 异步、延后加载非必须的 js 代码，

3. 替换三方模块（替换一些不支持 tree-shaking 的库版本（如 vue2\xlsx11.2））、更换体积更小的模块，尽量不使用三方模块

# 大数据量渲染性能瓶颈问题

1. **核心：一次渲染一部分**

# 体验优化

1. 骨架屏
2. 兜底图片
3. 对用户及时的反馈

# 组件的扩展性与易用性

1. 优化接口出错处理
2. 接口的串行、并行

# 关于埋点

## 数据埋点与服务监控

数据埋点一定要放在一个具体的环境（服务监控）才有意义，可以说，数据埋点是为服务监控服务的。

**为什么需要？**
不管是网站还是 APP 或者小程序，本地服务运行的再好，都无法保证在用户那一侧的运行是一定不会出错。如果一旦在用户端报错或卡顿，服务端无法及时了解情况。

**概述**
收集用户在使用过程中，出现的各种各样的问题，以便于及时进行调整

**监控方面**
错误监控:什么样的错误？发生在什么地方（哪一行代码）？
性能监控：是否有白屏？是否有卡顿？FP、FCP、LCS 等性能指标

行为监控：停留时间？

**服务提供商**

ARMS
神策
sentry

**两者关系**
数据埋点是技术层面的事。
服务监控是业务层面的事。
数据埋点是对服务监控收集用户信息的技术实现

**数据埋点实现层面**

- 非侵入

- 侵入

## 一些名词

**UV（Unique Visitor）**
通过互联网访问服务的自然人
**PV（Page View）**
页面的浏览量和点击量
**VV（Visit View）**
所有访客一天内访问网站的次数
