# 组件库封装的问题

```
|- MyInput.vue
|- App.vue
```

比如封装了一个`el-input`,

- App.vue

```html
<my-input ref="inputRef">
  <!-- 插槽 -->
  <template #name>
    <div>这时一个名称插槽</div>
  </template>
</my-input>
```

> 问题二：插槽问题：传递多个插槽时，需不需要写多个 slot?
> 问题三：ref 透传问题:在父组件中，给子组件上挂了一个 ref 属性，如何在父组件中童通过 ref 访问到子组件的 el-input 并完成操控？
>
> - 换一种思路，将 el-input 上的方法，复制一份给子组件，就能完成上述效果

- MyInput.vue

```html
<el-input v-bind="$attrs" ref="inp">
  <!-- 原来的写法 -->
  <!-- <slot name="name"></slot> -->
  <!-- 使用$slots -->
  <slot v-for="(value,name) in $slots" :name="name"></slot>
</el-input>

<script>
  export default {
    mounted() {
      const entries = Object.entries(this.$refs.inp);
      for (const [key, value] of entries) {
        this[key] = value;
      }
    },
  };
</script>
```

> 问题一：这里的 el-input 不能使用`v-model`绑定数据，因为需要通过父组件传递过来，如果使用`props`，需要写很多个，所以需要使用`$attrs`(在子组件中调用，接受父组件传递过来的，而且当前子组件没有 props 的属性，并且会继续向孙组件传递)
