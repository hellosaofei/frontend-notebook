# 关于埋点

## 数据埋点与服务监控

数据埋点一定要放在一个具体的环境（服务监控）才有意义，可以说，数据埋点是为服务监控服务的。

**为什么需要？**
不管是网站还是 APP 或者小程序，本地服务运行的再好，都无法保证在用户那一侧的运行是一定不会出错。如果一旦在用户端报错或卡顿，服务端无法及时了解情况。

**概述**
收集用户在使用过程中，出现的各种各样的问题，以便于及时进行调整

**监控方面**
错误监控:什么样的错误？发生在什么地方（哪一行代码）？
性能监控：是否有白屏？是否有卡顿？FP、FCP、LCS 等性能指标

行为监控：停留时间？

**服务提供商**

ARMS
神策
sentry

**两者关系**
数据埋点是技术层面的事。
服务监控是业务层面的事。
数据埋点是对服务监控收集用户信息的技术实现

**数据埋点实现层面**

- 非侵入

- 侵入

## 一些名词

**UV（Unique Visitor）**
通过互联网访问服务的自然人
**PV（Page View）**
页面的浏览量和点击量
**VV（Visit View）**
所有访客一天内访问网站的次数

## 埋点方案

- 手动埋点

- 可视化埋点：

- 无痕埋点（全埋点）：对全局所有事件和页面加载周期进行拦截埋点

### 考量标准

- 低侵入性：埋点应与业务代码进行分离
- 规范性：通过统一接口处理埋点逻辑

## 服务监控的方面

### 数据监控

- PV/UV
- 页面停留时长
- 访问源网址
- 用户在页面内的行为

### 性能监控

- 不同用户、不同设备、不同系统下的首屏加载时长
- 白屏时间
- 网络请求时长
- 静态资源请求时长
- 页面渲染时长

### 异常/错误监控

- js 异常
- 样式异常
