<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Responsive Scrollbar Example</title>
    <style>
      /* 设置 body 的最小宽度和水平滚动条 */
      body {
        min-width: 1000px; /* 设置一个合适的最小宽度 */
        margin: 0;
        padding: 0;
        overflow-x: auto; /* 当内容超出容器宽度时显示水平滚动条 */
      }

      /* 设置内容容器的样式 */
      .content-container {
        width: 100%; /* 容器宽度设置为视口宽度 */
        /* max-width: 1200px; 设置最大宽度以限制内容过宽 */
        margin: 0 auto; /* 水平居中 */
        padding: 20px; /* 添加一些内边距 */
        box-sizing: border-box; /* 确保 padding 不会增加容器的实际宽度 */
      }

      /* 示例内容样式 */
      .content {
        background-color: #f5f5f5;
        padding: 20px;
      }

      /* 响应式媒体查询（可选） */
      @media (max-width: 999px) {
        body {
          /* 在小屏幕上，你可能想要调整最小宽度或禁用水平滚动条 */
          /* min-width: auto; */
          /* overflow-x: hidden; */
        }
      }
    </style>
  </head>
  <body>
    <div class="content-container">
      <div class="content">
        <!-- 这里是页面内容 -->
        <h1>Responsive Scrollbar Example</h1>
        <p>
          当浏览器窗口宽度小于1000px时，页面将出现水平滚动条，而不是压缩内容。
        </p>
        <!-- 添加更多内容以测试滚动条 -->
        <!-- ... -->
      </div>

      <script>
        var crop = {};
        crop.list = [];

        // 订阅事件
        crop.on = function (fn) {
          this.list.push(fn);
        };

        // 发布事件
        crop.emit = function (...args) {
          this.list.forEach((cb) => {
            console.log("this指向问题：", this, arguments);
            // cb.apply(this, args);
            cb.apply(this, arguments);
          });
        };

        // 测试
        crop.on((...args) => {
          // console.log("你的职位是：" + position);
          // console.log("期望薪水：" + salary);
          console.log("on函数中的this指向", this);
          console.log("这是第一个订阅函数,接收到的参数为：", args);
        });
        crop.on(function (...args) {
          // console.log("你的职位是：" + position);
          // console.log("期望薪水：" + salary);
          console.log("on函数中的this指向", this);
          console.log("这是第二个订阅函数,接收到的参数为：", args);
        });
        // crop.on(function (skill, hobby) {
        //   console.log("这是第二个订阅函数",skill,hobby);
        //   // console.log("你的技能有： " + skill);
        //   // console.log("爱好： " + hobby);
        // });

        crop.emit("前端", 10000);
        // crop.emit("端茶和倒水", "足球");
        // var name = "张三";
        // const bb = () => {
        //   console.log(this.name);
        // };
        // const obj = {
        //   name: "李四",
        // };
        // bb.call(obj);
        // bb.apply(obj);
        // bb.bind(obj)();

        var obj = {
          foo() {
            console.log("普通函数回调", this);
          },
          foo2: () => {
            console.log("箭头回调", this);
          },
        };

        function doFoo(fn) {
          fn();
        }
        // 此处相当于 window.doFoo(obj.foo)，也就是doFoo内部指向了window,
        doFoo(obj.foo); // window
        doFoo(obj.foo2); // window

        function xx() {
          const a1 = () => {
            console.log(this);
          };
          function doFoo(fn) {
            fn();
          }
        }
      </script>
    </div>
  </body>
</html>
