<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button onclick="throttle(test)()">点击</button>
    <script>
      function test() {
        console.log("sss");
      }

      function throttle(fn, delay = 1000) {
        let flag = true;
        return function (...args) {
          if (flag) {
            setTimeout(() => {
              fn.apply(this, args);
              flag = true;
            }, delay);
          }
          flag = false;
        };
      }

      // 作者：薄荷前端
      // 链接：https://juejin.cn/post/6844903669389885453
      // 来源：稀土掘金
      // 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
      // function throttle(fn) {
      //   let flag = true;
      //   return function () {
      //     // 如果 不为true,中断函数执行
      //     if (!flag) {
      //       return;
      //     }
      //     // 防止执行之前再执行
      //     flag = false;

      //     setTimeout(() => {
      //       fn();
      //       flag = true;
      //     }, 1000);
      //   };
      // }
    </script>
  </body>
</html>
